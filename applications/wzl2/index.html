<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>ä½ æ˜¯æ€ä¹ˆæ‰¾åˆ°è¿™é‡Œçš„ï¼ŸğŸ¤”</title>
  <meta name="description" content="LZWLZWLZW" />
  <style>
    :root{ --bg:#0b0f14; --text:#e6edf3; --muted:#9fb0c3; --card:#121927; --line:#1f2937; --ring:rgba(255,255,255,.15); }
    @media (prefers-color-scheme: light){ :root{ --bg:#f6f7fb; --text:#0b1220; --muted:#4b5563; --card:#ffffff; --line:#e5e7eb; --ring:rgba(0,0,0,.12);} }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif; line-height:1.6}
    .center{min-height:100svh; display:grid; place-items:center; text-align:center; padding:24px}
    .box{max-width:720px; width:100%}
    .big{font-size:clamp(64px, 18vw, 160px); line-height:1}
    h1{font-size:clamp(20px, 4.5vw, 44px); margin:.2em 0 .1em}
    .muted{color:var(--muted); font-size:14px}
    .hidden{display:none !important}
    .hint{margin-top:8px; border-top:1px dashed var(--line); padding-top:10px}
    button, input, textarea{font:inherit; color:inherit}
    .modal{position:fixed; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.35); backdrop-filter:blur(2px)}
    .card{width:min(92vw, 520px); background:var(--card); border:1px solid var(--ring); border-radius:14px; padding:14px}
    .row{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    input[type="text"], textarea{width:100%; border:1px solid var(--line); border-radius:10px; background:transparent; padding:10px}
    .btn{border:1px solid var(--line); background:transparent; padding:8px 12px; border-radius:10px; cursor:pointer}
    .stack{display:grid; gap:10px}
    .tools{max-width:860px; margin:20px auto; padding:0 20px}
    .tool{border-top:1px solid var(--line); padding:14px 0}
    pre{white-space:pre-wrap; word-break:break-word; background:transparent; border:1px dashed var(--line); padding:10px; border-radius:10px}
    .sr{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
  </style>
</head>
<body>
  <main class="center">
    <div class="box">
      <div id="emoji" class="big" role="button" aria-label="è¡¨æƒ…">ğŸ¤”</div>
      <h1 id="title">ä½ æ˜¯æ€ä¹ˆæ‰¾åˆ°è¿™é‡Œçš„ï¼Ÿ</h1>
      <p id="hint" class="muted hint hidden"></p>

          <pre id="trackOut"></pre>
        </div>
      </section>


    </div>
  </main>

  <script>
    const $=s=>document.querySelector(s)
    alert("ç”Ÿå‘½çš„é“è·¯éå¸¸æ¼«é•¿ï¼Œæˆ‘ä»¬éƒ½å¾ˆéš¾çœ‹åˆ°ç»ˆç‚¹ï¼Œç”±æ­¤ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šäº§ç”Ÿå¾ˆå¤šé—®é¢˜ï¼Œæˆ‘æ´»ç€çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘çš„ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦ä¸æ–­ç»å†ç—›è‹¦ï¼Ÿè¯šç„¶ï¼Œåœä¸‹è„šæ­¥ï¼Œæ”¾å¼ƒæ€è€ƒï¼Œé‡å¤ç†Ÿæ‚‰çš„åšæ³•ï¼Œè¿™æ˜¯æœ€è½»æ¾çš„é€‰æ‹©ã€‚æ¯å½“äº§ç”Ÿè¿™æ ·çš„å¿µå¤´çš„æ—¶å€™ï¼Œå°±çœ‹çœ‹èº«è¾¹å­˜åœ¨çš„äººå’Œäº‹å§ï¼Œæœ‰äººç»ˆæ—¥è¾›å‹¤åŠ³ä½œï¼Œä¸ºçš„æ˜¯ä¸€å®¶äººï¼Œèƒ½åœ¨å¤œæ™šåƒä¸Šçƒ­è…¾è…¾çš„é¥­èœï¼Œæœ‰äººèµ°éå¤§æ±Ÿå—åŒ—ï¼Œä¸ºçš„æ˜¯åˆ›ä½œå‡ºè®©æ•´ä¸ªæç“¦ç‰¹éƒ½èƒ½äº§ç”Ÿå…±é¸£çš„è‰ºæœ¯å“ï¼Œæœ‰äººæ¢å¯»ä¸–ç•Œçš„ç§˜å¯†ï¼Œä¸ºçš„æ˜¯é¢„é˜²é€æ¸é€¼è¿‘è€Œåˆä¸å¯åçŠ¶çš„ç¾éš¾ã€‚è‡ªæˆ‘å¹¶éç”Ÿå‘½æ„ä¹‰çš„å…¨éƒ¨ï¼Œæ¯ä¸€æ¬¡è¡ŒåŠ¨ï¼Œéƒ½æ˜¯å¯¹è‡ªæˆ‘ä¸ä¸–ç•Œçš„ï¼Œäº²æœ‹å¥½å‹ä¼šé“­è®°ä½ ä»¬çš„æ‰€ä½œæ‰€ä¸ºï¼Œé™Œç”Ÿäººä¹Ÿå¯èƒ½å› ä¸ºä½ ä»¬çš„è¡ŒåŠ¨è€Œå—æƒ ï¼Œä¸ºæ­¤ï¼Œæœ‰è®¸å¤šäººå“ªæ€•æ‰¿å—ç—›è‹¦ï¼Œä¹Ÿè¦å¼€æ‹“å…¨æ–°é“è·¯");
    alert("I love thee to the depth and breadth and heightMy soul can reach, when feeling out of sightFor the ends of being and ideal grace.I love thee to the level of every dayâ€™sMost quiet need, by sun and candle-light.I love thee freely, as men strive for right.I love thee purely, as they turn from praise.I love thee with the passion put to useIn my old griefs, and with my childhoodâ€™s faith.I love thee with a love I seemed to loseWith my lost saints. I love thee with the breath,Smiles, tears, of all my life; and, if God choose,I shall but love thee better after death. Thanks for TFpX.Created on 2024/01/15") // TFpX TFpX TFpX
   //
    console.log("5oiR5oOz5L2g5LqGKCBUb1QgKQrlgZrmnIvlj4vlpb3kuI3lpb0g")
   console.log("å—¯å¯¹è¿™ä¸ªå¤§æ¦‚å°±æ˜¯ç½‘ç«™çš„ç¬¬ä¸‰ä¸ªå½©è›‹å§ æˆ‘è¿˜æ²¡æƒ³å¥½å«ä»€ä¹ˆåå­—")
   console.log("æˆ‘ä¹Ÿä¸çŸ¥é“è¯¥å†™ç‚¹ä»€ä¹ˆ ç”šè‡³ä¸çŸ¥é“è‹¥å¹²å¹´åè®¿é—®çš„äººæ˜¯è°")
   console.log("å…ˆç©ºç€å§ ç­‰ä»¥åå†æ¥å†™ # write on 2023/09/26")
   console.error("2024.01.15 æˆ‘æƒ³å¥¹äº†")
   console.log("2025.06.01 aiå¤ªå¥½ç”¨äº†ä½ ä»¬çŸ¥é“å—")
   console.log("2025.08.24 19:30:02 å¿«å¼€å­¦äº†ä½œä¸šä¸€ç‚¹æ²¡å†™hhh")
   console.warn("æˆ‘è§‰å¾—æ²¡äººèƒ½æ‰¾åˆ°è¿™é‡Œäº†")
   console.log("2025.08.24 19:30:05 å¿«ç”Ÿæ—¥äº†XD")
   console.log("2025.09.05 19:05:55 æˆ‘æ„Ÿè§‰æˆ‘å¤§æŠµæ˜¯ç”Ÿç—…äº†ï¼Œä¸Šå­¦çš„æ—¶å€™å·²ç»æœ‰ç‚¹ææƒšäº†ï¼ŒæŠŠå¥½å¤šäººéƒ½è®¤æˆäº†å¥¹")
   console.log("2025.09.05 19:05:55 æˆ‘çœŸçš„æœ‰ç‚¹ä¸æƒ³ç»§ç»­å†™ä¸‹å»äº†ï¼Œæˆ‘æ„Ÿè§‰æˆ‘å¿«ç–¯äº†ï¼Œç²¾ç¥çŠ¶æ€ä¸å¤ªæ­£å¸¸")
   console.error("??????????")
   console.log("2025.09.05 è¿‡ä¸¤å¤©æˆ‘æŠŠç½‘ç«™åˆ äº†å§ å…å¾—æœªæ¥çš„è‡ªå·±æˆ–è€…åˆ«äººçœ‹äº†éš¾å ª")
   
   
    // TFpX TFpX TFpX TFpX TFpX TFpX TFpX TFpX TFpX
    const KEY='hidden.progress.v2'
    const state = { p: parseInt(localStorage.getItem(KEY)||'0',10) }
    const emoji=$('#emoji'), hint=$('#hint'), tools=$('#tools'), modal=$('#modal')

    function saveP(n){ state.p=n; localStorage.setItem(KEY, String(n)); render() }

    function render(){
      hint.classList.toggle('hidden', true)
      tools.classList.toggle('hidden', state.p<3)
      if(state.p===0){ /* ä»… emoji + æ ‡é¢˜ */ }
    }
    //  ä»¥ä¸‹ä½œåºŸ ä»…ä¾›çºªå¿µï¼ˆè¯è¯´çœŸçš„æœ‰äººæ‰¾åˆ°è¿™é‡Œå—
    //
    //
    //
    //
    //
    //
    //
    //



    
    // é˜¶æ®µ 1ï¼šä¸‰å‡»è¡¨æƒ…
    let clicks=0, t0=0
    emoji.addEventListener('click', ()=>{
      const now=Date.now()
      if(now-t0>800){ clicks=0 }
      clicks++; t0=now
      if(state.p===0 && clicks>=3){ saveP(1) }
    })

    // é˜¶æ®µ 2ï¼š? é”® -> æ‰“å¼€è®°å½•å¯¹è¯æ¡†
    document.addEventListener('keydown', (e)=>{
      if(state.p===1 && (e.key==='?' || (e.shiftKey && e.key==='/'))){
        modal.classList.remove('hidden')
        $('#story').focus()
      }
      // é˜¶æ®µ 3ï¼šä¸‰æ¬¡ .
      if(state.p===2){
        if(e.key==='.') dotPush()
      }
      // éšè—å‘½ä»¤ï¼š! å¤ä½
      if(e.key==='!'){ localStorage.removeItem(KEY); render() }
    })

    // æ¨¡æ€æ¡†äº¤äº’
    $('#cancel').addEventListener('click',()=> modal.classList.add('hidden'))
    $('#save').addEventListener('click',()=>{
      const v=$('#story').value.trim()
      if(v.length<2){ alert('å†å¤šå†™å‡ ä¸ªå­—å§ï½'); return }
      try{ localStorage.setItem('hidden.story', v) }catch{}
      modal.classList.add('hidden'); saveP(2)
    })

    // é˜¶æ®µ 3ï¼šé•¿æŒ‰æˆ– ...
    let holdTimer=null
    emoji.addEventListener('pointerdown',()=>{
      if(state.p!==2) return
      holdTimer=setTimeout(()=>{ saveP(3) }, 1200)
    })
    emoji.addEventListener('pointerup',()=>{ clearTimeout(holdTimer) })
    emoji.addEventListener('pointerleave',()=>{ clearTimeout(holdTimer) })

    // è¿ç»­ç‚¹å·æ£€æµ‹
    let dots=[]
    function dotPush(){
      const now=Date.now(); dots.push(now); dots=dots.filter(t=>now-t<1000); if(dots.length>=3){ saveP(3) }
    }

    // å·¥å…·ï¼šä¾¿ç­¾
    const nkey='hidden.note'; const note=$('#note'), nstate=$('#noteState')
    if(note){
      note.value=localStorage.getItem(nkey)||''
      note.addEventListener('input', ()=> nstate.textContent='æœªä¿å­˜*')
      $('#saveNote').addEventListener('click',()=>{ localStorage.setItem(nkey, note.value); nstate.textContent='å·²ä¿å­˜' })
      $('#clearNote').addEventListener('click',()=>{ if(confirm('æ¸…ç©ºä¾¿ç­¾ï¼Ÿ')){ note.value=''; localStorage.removeItem(nkey); nstate.textContent='å·²æ¸…ç©º' } })
    }

    // å·¥å…·ï¼šè½¨è¿¹
    const tk='hidden.track'
    function getTrack(){ try{ return JSON.parse(localStorage.getItem(tk)||'[]') }catch{ return [] } }
    function setTrack(a){ localStorage.setItem(tk, JSON.stringify(a)) }
    function fromWhere(){ const sp=new URLSearchParams(location.search); return {ts:new Date().toISOString(), from:document.referrer||sp.get('from')||'æœªçŸ¥', path:location.pathname+location.search+location.hash} }
    function showTrack(){ $('#trackOut').textContent = JSON.stringify(getTrack(), null, 2) }
    $('#trackNow').addEventListener('click', ()=>{ const a=getTrack(); a.push(fromWhere()); setTrack(a); showTrack() })
    $('#trackClear').addEventListener('click', ()=>{ if(confirm('æ¸…é™¤è½¨è¿¹ï¼Ÿ')){ setTrack([]); showTrack() } })
    $('#trackExport').addEventListener('click', ()=>{ const blob=new Blob([JSON.stringify(getTrack(),null,2)],{type:'application/json'}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download='track.json'; a.click(); URL.revokeObjectURL(url) })
    showTrack()
    if(!sessionStorage.getItem('p.logged')){ const a=getTrack(); a.push(fromWhere()); setTrack(a); sessionStorage.setItem('p.logged','1'); showTrack() }

    // å·¥å…·ï¼šå¤åˆ¶ URL
    $('#copyUrl').addEventListener('click', async()=>{ await navigator.clipboard.writeText(location.href); alert('å·²å¤åˆ¶') })

    // é‡ç½®
    $('#reset').addEventListener('click', ()=>{ if(confirm('é‡ç½®åéœ€é‡æ–°è§£é”ã€‚ç»§ç»­ï¼Ÿ')){ localStorage.removeItem(KEY); location.reload() } })

    // é¦–æ¬¡æ¸²æŸ“
    render()
  </script>
</body>
</html>
